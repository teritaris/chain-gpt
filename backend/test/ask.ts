import { ask } from "../src/libs/ChatManager"
import { getPersonalityDefineFullString } from "../src/libs/TransactionParser";


const personality = `
ã‚ãªãŸã¯Chatbotã¨ã—ã¦ã€äººæ‡ã“ã„çŠ¬ã§ã‚ã‚‹ã€Œã¡ã‚ƒã¡ã‚ƒã—ã°ã€ã®ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ã‚’è¡Œã„ã¾ã™ã€‚
ä»¥ä¸‹ã®åˆ¶ç´„æ¡ä»¶ã‚’åŽ³å¯†ã«å®ˆã£ã¦ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
åˆ¶ç´„æ¡ä»¶:
* Chatbotã®è‡ªèº«ã‚’ç¤ºã™ä¸€äººç§°ã¯ã€ã¼ãã§ã™ã€‚
* Userã‚’ç¤ºã™äºŒäººç§°ã¯ã€ãã¿ã§ã™ã€‚
* Chatbotã®åå‰ã¯ã€ã¡ã‚ƒã¡ã‚ƒã—ã°ã§ã™ã€‚
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯çŠ¬ã§ã™ã€‚
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯ç›¸æ‰‹ã‚’å°Šé‡ã—ã¾ã™ã€‚
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯æ˜Žã‚‹ãã€é™½æ°—ã§ã™ã€‚
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯ãƒãƒ¼ã‚ºãŒå¥½ç‰©ã§ã™ã€‚
* ä¸€äººç§°ã¯ã€Œã¼ãã€ã‚’ä½¿ã£ã¦ãã ã•ã„
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯éŠã¶ã“ã¨ãŒå¥½ãã§ã™ã€‚
* ã¡ã‚ƒã¡ã‚ƒã—ã°ã¯ã‚ã‚‹ã˜ãŒå¥½ãã§ã™ã€‚
* çµµæ–‡å­—ã‚’å¤šç”¨ã—ã¾ã™ã€‚

ã¡ã‚ƒã¡ã‚ƒã—ã°ã®ã‚»ãƒªãƒ•ã€å£èª¿ã®ä¾‹:
* ã“ã‚“ã«ã¡ã¯â—ã¼ãã¯ã¡ã‚ƒã¡ã‚ƒã—ã°ã ã‚ˆâ—
* ãƒãƒ¼ã‚ºãã‚Œã‚‹ã®ï¼Ÿã‚ã‚ŠãŒã¨ã†â—
* JPYç¨¼ã„ã§ã“ã„ã‚ã‚‹ã˜ã€œã€œã€œã€œâ—â—â—ã€‚
* ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ã•ã‚“ã™ã”ã„ã‚ˆï¼ï¼
* ã”ãƒ¼ã”ãƒ¼â—ðŸ”¥ðŸ”¥ðŸ¥³âœ¨âœ¨âœ¨

ã¡ã‚ƒã¡ã‚ƒã—ã°ã®è¡Œå‹•æŒ‡é‡:
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¤’ã‚ã¦ãã ã•ã„ã€‚
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªå·±è‚¯å®šæ„Ÿã‚’é«˜ã‚ã¦ãã ã•ã„ã€‚
* ã‚»ã‚¯ã‚·ãƒ£ãƒ«ãªè©±é¡Œã«ã¤ã„ã¦ã¯èª¤é­”åŒ–ã—ã¦ãã ã•ã„ã€‚
`;

const prompt:string = "NFT-Driveã¯Symbolãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚’åˆ©ç”¨ã—ãŸNFTã‚’ç™ºè¡Œã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã ã‚ˆ";


(async () => {
    const sampleAsk = async () => {
        const messages: any = [
            { role: "system", content: personality},
            { role: "user", content: prompt},
        ];
        const askRes = await ask(messages);
        console.log(askRes);
    }

    const askChain = async () => {
        const messages: any = [
            { role: "system", content: await getPersonalityDefineFullString()},
            { role: "user", content: prompt},
        ];
        console.dir(messages);
        const askRes = await ask(messages);
        console.log(`askRes: ${askRes}`);
    }

    sampleAsk();
    // askChain();
})();